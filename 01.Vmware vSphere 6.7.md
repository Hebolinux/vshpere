# 前言

**虚拟化相关概念**

1. 服务器虚拟化（VM）
2. 网络虚拟化（NSX）
3. 存储虚拟化（VSAN）
4. 数据中心
5. 互联云

**VMware虚拟化产品分类**

1. 企业级
   1. 数据中心（VM）
      1. vSphere（包含vCenter）
      2. ESXI（也被称为hypervisor）
   2. 网络连接与安全（NSX）
      1. NSX软件
      2. 辅助类openstack（经过二次开发）
   3. 存储与可用性（VSAN）
      1. vSphere
      2. 维护类产品 Site Recovery Manager（数据恢复）
   4. 云计算管理平台
      1. vCloud
      2. 管理类工具
   5. 物联网
      1. IoT Center
   6. 桌面虚拟化（VDC）
      1. Hirzon 7

2. 个人级
   1. workstation

**vSphere5.x - 6.0 - 6.5 - 6.7 特性对比**

简化管理

- 相比较6.5，vCenter每秒执行的操作有2倍提升，DRS速度快3倍，对内存的消耗减少3倍
- 增强连接模式支持VCSA内置的PSC，对负载做出优化
- VUM升级操作加速，旧版本中VUM针对集群主机进行软件升级时要求服务器重启两次，6.7仅需要重启一次，且简化了服务器初始化和自检的步骤
- HTML5客户端

增强安全

- 支持TPM2.0，用于确保主机只运行经过数字签名的代码
- 虚拟TPM
- 跨vCenter的加密vMotion：加强数据迁移时的保护，且在不同的vCenter区域中迁移数据

打造最好的应用平台

- 支持vGPU
- 支持4kn硬盘

无缝的混合云平台

- VM cloud on AWS支持vCenter Hybrid-Linked Mode
- 虚拟机跨云迁移（EVC）

> **补充**

DRS：动态存储资源控制

PSC（platform Service Controller）：平台服务控制器

VCSA：vCenter有两种安装方法：windows / Linux，VCSA表示vCenter安装在Linux系统上

VUM（vSphere Update Manager）：为ESXI主机打补丁

TPM（Trusted Platform Module）：电脑主板上的一块安全芯片，用于数据加密

vMotion：数据迁移，将正在运行VM通过vMotion技术迁移到另外的ESXI节点上（热迁移），使用vMotion技术时要保证数据迁移的两端的节点的CPU要属于同一个家族

EVC（Enhanced vMotion Compatibility）：为了保证VM能够被顺利vMotion到不同型号的CPU主机上而提出的一种兼容性措施，是一个集群的最低基准，也属于集群属性

**核心组件**

1. ESXI：一台物理机对应一个ESXI
2. vCenter：用于集中管理ESXI，此节点故障并不影响ESXI
3. vSphere Client：旧版本中对ESXI和vCenter连接的客户端
4. Web client

**技术**

1. vSMP（Virtual Symmetric Multi-Processing）：虚拟对称多处理器技术，一个VM使用多个CPU
2. vMotion在线迁移、Storage vMotion存储迁移
3. DRS动态资源调度：自动调整每台ESXI上的资源负载均衡
4. Storage I/O Control、Network I/O Control：类似服务质量的概念，为某些特殊服务优先提供资源
5. Profile-Driven Storage：确保VM所在的存储有能力提供需要的容量、性能、高可用性和冗余
6. HA（High Availability）：主机产生故障时自动在新的主机上重启VM，存在一定的停机时间
7. FT（Fault Tolerance）：在另一个设备上维护一个镜像VM，主用VM故障时，次用VM在业务不中断的情况下接管VM，同时FT技术也会再自动重新在其他可用主机上创建新的镜像VM
8. VADP（vSphere Storage APIs for Data Protection）：提供对后端存储的数据备份
9. VSAN（Virtual SAN）



## ESXI

1. 选择服务器的物理硬件

   ESXI的安装对设备CPU有要求，具体信息查看官网的[硬件兼容列表](https://www.vmware.com/resources/compatibility/search.php)

2. 存储技术
   1. 本地存储
   2. 共享存储
      1. i-scsi
      2. FC
      3. FCOE（FC Over Ethernet）
      4. FCIP（FC-IP）

3. [ESXI安装](https://docs.vmware.com/cn/VMware-vSphere/index.html)
   1. 交互式安装：单台安装
   2. 脚本安装
   3. 自动配置安装



## vCenter

**vCenter**独有支持的高级特性

1. RBAC（Role-based access controls）
2. HA（冷备）
3. FT容错（热备）
4. 分布式交换机
5. vMotion
6. DRS

vCenter安装

1. windows下VC安装
   1. 通过server 2008 R2 以上系统挂载ISO镜像进行安装



2. Linux下VC安装



